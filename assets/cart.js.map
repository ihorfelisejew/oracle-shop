{"version":3,"file":"cart.js","names":["document","addEventListener","e","target","classList","contains","line","dataset","input","querySelector","quantity","parseInt","value","updateCart","fetch","method","headers","body","JSON","stringify","then","res","json","cart","location","reload"],"sources":["cart.js"],"sourcesContent":["document.addEventListener(\"click\", function (e) {\n\tif (e.target.classList.contains(\"qty-btn\")) {\n\t\tconst line = e.target.dataset.line;\n\t\tconst input = document.querySelector(`input[data-line=\"${line}\"]`);\n\t\tlet quantity = parseInt(input.value);\n\n\t\tif (e.target.classList.contains(\"plus\")) {\n\t\t\tquantity++;\n\t\t} else if (e.target.classList.contains(\"minus\") && quantity > 1) {\n\t\t\tquantity--;\n\t\t}\n\n\t\tupdateCart(line, quantity);\n\t}\n\n\tif (e.target.classList.contains(\"cart-item__remove\")) {\n\t\tupdateCart(e.target.dataset.line, 0);\n\t}\n});\n\nfunction updateCart(line, quantity) {\n\tfetch(\"/cart/change.js\", {\n\t\tmethod: \"POST\",\n\t\theaders: { \"Content-Type\": \"application/json\" },\n\t\tbody: JSON.stringify({ line, quantity }),\n\t})\n\t\t.then((res) => res.json())\n\t\t.then((cart) => {\n\t\t\tlocation.reload();\n\t\t});\n}\n"],"mappings":"AAAAA,QAAQ,CAACC,gBAAgB,CAAC,OAAO,EAAE,UAAUC,CAAC,EAAE;EAC/C,IAAIA,CAAC,CAACC,MAAM,CAACC,SAAS,CAACC,QAAQ,CAAC,SAAS,CAAC,EAAE;IAC3C,MAAMC,IAAI,GAAGJ,CAAC,CAACC,MAAM,CAACI,OAAO,CAACD,IAAI;IAClC,MAAME,KAAK,GAAGR,QAAQ,CAACS,aAAa,CAAE,oBAAmBH,IAAK,IAAG,CAAC;IAClE,IAAII,QAAQ,GAAGC,QAAQ,CAACH,KAAK,CAACI,KAAK,CAAC;IAEpC,IAAIV,CAAC,CAACC,MAAM,CAACC,SAAS,CAACC,QAAQ,CAAC,MAAM,CAAC,EAAE;MACxCK,QAAQ,EAAE;IACX,CAAC,MAAM,IAAIR,CAAC,CAACC,MAAM,CAACC,SAAS,CAACC,QAAQ,CAAC,OAAO,CAAC,IAAIK,QAAQ,GAAG,CAAC,EAAE;MAChEA,QAAQ,EAAE;IACX;IAEAG,UAAU,CAACP,IAAI,EAAEI,QAAQ,CAAC;EAC3B;EAEA,IAAIR,CAAC,CAACC,MAAM,CAACC,SAAS,CAACC,QAAQ,CAAC,mBAAmB,CAAC,EAAE;IACrDQ,UAAU,CAACX,CAAC,CAACC,MAAM,CAACI,OAAO,CAACD,IAAI,EAAE,CAAC,CAAC;EACrC;AACD,CAAC,CAAC;AAEF,SAASO,UAAUA,CAACP,IAAI,EAAEI,QAAQ,EAAE;EACnCI,KAAK,CAAC,iBAAiB,EAAE;IACxBC,MAAM,EAAE,MAAM;IACdC,OAAO,EAAE;MAAE,cAAc,EAAE;IAAmB,CAAC;IAC/CC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;MAAEb,IAAI;MAAEI;IAAS,CAAC;EACxC,CAAC,CAAC,CACAU,IAAI,CAAEC,GAAG,IAAKA,GAAG,CAACC,IAAI,CAAC,CAAC,CAAC,CACzBF,IAAI,CAAEG,IAAI,IAAK;IACfC,QAAQ,CAACC,MAAM,CAAC,CAAC;EAClB,CAAC,CAAC;AACJ","ignoreList":[]}