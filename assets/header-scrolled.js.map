{"version":3,"file":"header-scrolled.js","names":["header","document","querySelector","shippingNotice","headerMenuButtons","querySelectorAll","burgerButton","menuBlock","closeButton","phoneMenuBg","checkPageScroll","window","scrollY","style","maxHeight","classList","add","scrollHeight","remove","closeAllMenus","forEach","button","menu","closest","matchMedia","matches","toggleMenu","isActive","contains","addEventListener","e","stopPropagation","event","clickInside","target","setTimeout","menuBackButton","menuList","minHeight","reloadedMenu","menuClass","cartButton","cartWrapper","getElementById","preventDefault"],"sources":["header-scrolled.js"],"sourcesContent":["\"use strict\";\nconst header = document.querySelector(\"header\");\nconst shippingNotice = header.querySelector(\".shipping-notice__wrapper\");\nconst headerMenuButtons = header.querySelectorAll(\".menu-item__button\");\nconst burgerButton = header.querySelector(\".burger__button\");\nconst menuBlock = header.querySelector(\".header__menu\");\nconst closeButton = menuBlock.querySelector(\".close__button\");\nconst phoneMenuBg = header.querySelector(\".header__menu-background\");\n\nfunction checkPageScroll() {\n\tif (window.scrollY > 0) {\n\t\tshippingNotice.style.maxHeight = \"0\";\n\t\theader.classList.add(\"scrolled\");\n\t} else {\n\t\tshippingNotice.style.maxHeight = shippingNotice.scrollHeight + \"px\";\n\t\theader.classList.remove(\"scrolled\");\n\t}\n}\n\n// Закриває всі відкриті меню\nfunction closeAllMenus() {\n\theaderMenuButtons.forEach((button) => {\n\t\tconst menu = button\n\t\t\t.closest(\".menu__item\")\n\t\t\t.querySelector(\".categories__wrapper\");\n\t\tbutton.classList.remove(\"active\");\n\t\tmenu.classList.remove(\"active\");\n\t\t/*------для десктопного меню------*/\n\t\tif (window.matchMedia(\"(min-width: 769px)\").matches) {\n\t\t\tmenu.style.maxHeight = \"0\";\n\t\t}\n\t});\n\theader.classList.remove(\"opened\");\n}\n\n// Вмикає/вимикає потрібне меню\nfunction toggleMenu(button, menu) {\n\tconst isActive = menu.classList.contains(\"active\");\n\tcloseAllMenus(); // Закриваємо всі інші меню\n\n\tif (!isActive) {\n\t\tbutton.classList.add(\"active\");\n\t\tmenu.classList.add(\"active\");\n\t\t/*------для десктопного меню------*/\n\t\tif (window.matchMedia(\"(min-width: 769px)\").matches) {\n\t\t\tmenu.style.maxHeight = menu.scrollHeight + \"px\";\n\t\t\theader.classList.add(\"opened\");\n\t\t}\n\t}\n}\ndocument.addEventListener(\"DOMContentLoaded\", function () {\n\t// Ініціалізація scroll\n\tcheckPageScroll();\n\n\t// Клік по меню\n\theaderMenuButtons.forEach((button) => {\n\t\tconst menu = button\n\t\t\t.closest(\".menu__item\")\n\t\t\t.querySelector(\".categories__wrapper\");\n\t\tbutton.addEventListener(\"click\", (e) => {\n\t\t\te.stopPropagation(); // Щоб не спрацьовував обробник document\n\t\t\ttoggleMenu(button, menu);\n\t\t});\n\t});\n\n\t// Клік поза меню — закриває все\n\tdocument.addEventListener(\"click\", (event) => {\n\t\tlet clickInside = false;\n\t\theaderMenuButtons.forEach((button) => {\n\t\t\tconst menu = button\n\t\t\t\t.closest(\".menu__item\")\n\t\t\t\t.querySelector(\".categories__wrapper\");\n\t\t\tif (button.contains(event.target) || menu.contains(event.target)) {\n\t\t\t\tclickInside = true;\n\t\t\t}\n\t\t});\n\t\tif (window.matchMedia(\"(max-width: 768px)\").matches) {\n\t\t\tif (\n\t\t\t\tmenuBlock.contains(event.target) ||\n\t\t\t\tburgerButton.contains(event.target)\n\t\t\t) {\n\t\t\t\tclickInside = true;\n\t\t\t}\n\t\t}\n\t\tif (!clickInside) {\n\t\t\tsetTimeout(() => {\n\t\t\t\tif (window.matchMedia(\"(max-width: 768px)\").matches) {\n\t\t\t\t\tmenuBlock.classList.remove(\"opened\");\n\t\t\t\t\tphoneMenuBg.classList.remove(\"active\");\n\t\t\t\t}\n\t\t\t}, 300);\n\t\t\tcloseAllMenus();\n\t\t}\n\t});\n\n\t// Скрол — оновлення shipping + закриття меню\n\twindow.addEventListener(\"scroll\", () => {\n\t\tcheckPageScroll();\n\t\tif (window.matchMedia(\"(max-width: 768px)\").matches) {\n\t\t\tsetTimeout(() => {\n\t\t\t\tmenuBlock.classList.remove(\"opened\");\n\t\t\t\tphoneMenuBg.classList.remove(\"active\");\n\t\t\t}, 300);\n\t\t}\n\t\tcloseAllMenus();\n\t});\n\n\t/*------mobile menu------*/\n\tif (window.matchMedia(\"(max-width: 768px)\").matches) {\n\t\t/*-----open menu----------*/\n\t\tburgerButton.addEventListener(\"click\", () => {\n\t\t\tmenuBlock.classList.add(\"opened\");\n\t\t\tphoneMenuBg.classList.add(\"active\");\n\t\t});\n\n\t\t/*-----close menu----------*/\n\t\tcloseButton.addEventListener(\"click\", () => {\n\t\t\tmenuBlock.classList.remove(\"opened\");\n\t\t\tphoneMenuBg.classList.remove(\"active\");\n\t\t});\n\n\t\t/*-----back to main menu-----*/\n\t\theaderMenuButtons.forEach((button) => {\n\t\t\tconst menu = button\n\t\t\t\t.closest(\".menu__item\")\n\t\t\t\t.querySelector(\".categories__wrapper\");\n\t\t\tconst menuBackButton = menu.querySelector(\".back__button\");\n\t\t\tconst menuList = menu.querySelector(\".categories__list\");\n\t\t\tmenuList.style.minHeight = menuList.scrollHeight + 40 + \"px\";\n\t\t\tmenuBackButton.addEventListener(\"click\", () => {\n\t\t\t\tconst reloadedMenu = document.querySelector(\".\" + menuClass);\n\t\t\t\ttoggleMenu(button, reloadedMenu);\n\t\t\t});\n\t\t});\n\t}\n\n\tconst cartButton = header.querySelector(\".cart__button\");\n\tconst cartWrapper = document.getElementById(\"cart-wrapper\");\n\n\tif (cartButton && cartWrapper) {\n\t\tcartButton.addEventListener(\"click\", (e) => {\n\t\t\te.preventDefault();\n\t\t\tcartWrapper.classList.add(\"open\");\n\t\t});\n\t}\n\n\t/*------Закриття кошика при кліку поза ним (за потреби)------*/\n\tdocument.addEventListener(\"click\", (e) => {\n\t\tif (\n\t\t\tcartWrapper.classList.contains(\"open\") &&\n\t\t\t!cartWrapper.contains(e.target) &&\n\t\t\t!cartButton.contains(e.target)\n\t\t) {\n\t\t\tcartWrapper.classList.remove(\"open\");\n\t\t}\n\t});\n});\n"],"mappings":"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","ignoreList":[]}