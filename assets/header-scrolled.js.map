{"version":3,"file":"header-scrolled.js","names":["header","document","querySelector","shippingNotice","headerMenuButtons","querySelectorAll","burgerButton","menuBlock","closeButton","phoneMenuBg","checkPageScroll","classList","contains","window","scrollY","style","maxHeight","add","scrollHeight","remove","closeAllMenus","forEach","button","menu","closest","matchMedia","matches","toggleMenu","isActive","addEventListener","e","stopPropagation","event","clickInside","target","setTimeout","menuBackButton","menuList","minHeight","reloadedMenu","menuClass"],"sources":["header-scrolled.js"],"sourcesContent":["\"use strict\";\nconst header = document.querySelector(\"header\");\nconst shippingNotice = header.querySelector(\".shipping-notice__wrapper\");\nconst headerMenuButtons = header.querySelectorAll(\".menu-item__button\");\nconst burgerButton = header.querySelector(\".burger__button\");\nconst menuBlock = header.querySelector(\".header__menu\");\nconst closeButton = menuBlock.querySelector(\".close__button\");\nconst phoneMenuBg = header.querySelector(\".header__menu-background\");\n\nfunction checkPageScroll() {\n\tif (header.classList.contains(\"not-home-header\")) return;\n\n\tif (window.scrollY > 0) {\n\t\tshippingNotice.style.maxHeight = \"0\";\n\t\theader.classList.add(\"scrolled\");\n\t} else {\n\t\tshippingNotice.style.maxHeight = shippingNotice.scrollHeight + \"px\";\n\t\theader.classList.remove(\"scrolled\");\n\t}\n}\n\n// Закриває всі відкриті меню\nfunction closeAllMenus() {\n\theaderMenuButtons.forEach((button) => {\n\t\tconst menu = button\n\t\t\t.closest(\".menu__item\")\n\t\t\t.querySelector(\".categories__wrapper\");\n\t\tbutton.classList.remove(\"active\");\n\t\tmenu.classList.remove(\"active\");\n\t\t/*------для десктопного меню------*/\n\t\tif (window.matchMedia(\"(min-width: 769px)\").matches) {\n\t\t\tmenu.style.maxHeight = \"0\";\n\t\t}\n\t});\n\theader.classList.remove(\"opened\");\n}\n\n// Вмикає/вимикає потрібне меню\nfunction toggleMenu(button, menu) {\n\tconst isActive = menu.classList.contains(\"active\");\n\tcloseAllMenus(); // Закриваємо всі інші меню\n\n\tif (!isActive) {\n\t\tbutton.classList.add(\"active\");\n\t\tmenu.classList.add(\"active\");\n\t\t/*------для десктопного меню------*/\n\t\tif (window.matchMedia(\"(min-width: 769px)\").matches) {\n\t\t\tmenu.style.maxHeight = menu.scrollHeight + \"px\";\n\t\t\theader.classList.add(\"opened\");\n\t\t}\n\t}\n}\ndocument.addEventListener(\"DOMContentLoaded\", function () {\n\t// Ініціалізація scroll\n\tcheckPageScroll();\n\n\t// Клік по меню\n\theaderMenuButtons.forEach((button) => {\n\t\tconst menu = button\n\t\t\t.closest(\".menu__item\")\n\t\t\t.querySelector(\".categories__wrapper\");\n\t\tbutton.addEventListener(\"click\", (e) => {\n\t\t\te.stopPropagation(); // Щоб не спрацьовував обробник document\n\t\t\ttoggleMenu(button, menu);\n\t\t});\n\t});\n\n\t// Клік поза меню — закриває все\n\tdocument.addEventListener(\"click\", (event) => {\n\t\tlet clickInside = false;\n\t\theaderMenuButtons.forEach((button) => {\n\t\t\tconst menu = button\n\t\t\t\t.closest(\".menu__item\")\n\t\t\t\t.querySelector(\".categories__wrapper\");\n\t\t\tif (button.contains(event.target) || menu.contains(event.target)) {\n\t\t\t\tclickInside = true;\n\t\t\t}\n\t\t});\n\t\tif (window.matchMedia(\"(max-width: 768px)\").matches) {\n\t\t\tif (\n\t\t\t\tmenuBlock.contains(event.target) ||\n\t\t\t\tburgerButton.contains(event.target)\n\t\t\t) {\n\t\t\t\tclickInside = true;\n\t\t\t}\n\t\t}\n\t\tif (!clickInside) {\n\t\t\tsetTimeout(() => {\n\t\t\t\tif (window.matchMedia(\"(max-width: 768px)\").matches) {\n\t\t\t\t\tmenuBlock.classList.remove(\"opened\");\n\t\t\t\t\tphoneMenuBg.classList.remove(\"active\");\n\t\t\t\t}\n\t\t\t}, 300);\n\t\t\tcloseAllMenus();\n\t\t}\n\t});\n\n\t// Скрол — оновлення shipping + закриття меню\n\twindow.addEventListener(\"scroll\", () => {\n\t\tcheckPageScroll();\n\t\tif (window.matchMedia(\"(max-width: 768px)\").matches) {\n\t\t\tsetTimeout(() => {\n\t\t\t\tmenuBlock.classList.remove(\"opened\");\n\t\t\t\tphoneMenuBg.classList.remove(\"active\");\n\t\t\t}, 300);\n\t\t}\n\t\tcloseAllMenus();\n\t});\n\n\t/*------mobile menu------*/\n\tif (window.matchMedia(\"(max-width: 768px)\").matches) {\n\t\t/*-----open menu----------*/\n\t\tburgerButton.addEventListener(\"click\", () => {\n\t\t\tmenuBlock.classList.add(\"opened\");\n\t\t\tphoneMenuBg.classList.add(\"active\");\n\t\t});\n\n\t\t/*-----close menu----------*/\n\t\tcloseButton.addEventListener(\"click\", () => {\n\t\t\tmenuBlock.classList.remove(\"opened\");\n\t\t\tphoneMenuBg.classList.remove(\"active\");\n\t\t});\n\n\t\t/*-----back to main menu-----*/\n\t\theaderMenuButtons.forEach((button) => {\n\t\t\tconst menu = button\n\t\t\t\t.closest(\".menu__item\")\n\t\t\t\t.querySelector(\".categories__wrapper\");\n\t\t\tconst menuBackButton = menu.querySelector(\".back__button\");\n\t\t\tconst menuList = menu.querySelector(\".categories__list\");\n\t\t\tmenuList.style.minHeight = menuList.scrollHeight + 40 + \"px\";\n\t\t\tmenuBackButton.addEventListener(\"click\", () => {\n\t\t\t\tconst reloadedMenu = document.querySelector(\".\" + menuClass);\n\t\t\t\ttoggleMenu(button, reloadedMenu);\n\t\t\t});\n\t\t});\n\t}\n});\n"],"mappings":"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","ignoreList":[]}