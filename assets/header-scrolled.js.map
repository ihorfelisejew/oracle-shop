{"version":3,"file":"header-scrolled.js","names":["header","document","querySelector","shippingNotice","headerMenuButtons","querySelectorAll","burgerButton","menuBlock","closeButton","phoneMenuBg","checkPageScroll","window","scrollY","style","maxHeight","classList","add","scrollHeight","remove","closeAllMenus","forEach","button","menuClass","dataset","menu","matchMedia","matches","toggleMenu","isActive","contains","addEventListener","e","stopPropagation","event","clickInside","target","setTimeout","menuBackButton","menuList","minHeight","reloadedMenu"],"sources":["header-scrolled.js"],"sourcesContent":["\"use strict\";\n\nconst header = document.querySelector(\"header\");\nconst shippingNotice = header.querySelector(\".shipping-notice__wrapper\");\nconst headerMenuButtons = header.querySelectorAll(\".menu-item__button\");\nconst burgerButton = header.querySelector(\".burger__button\");\nconst menuBlock = header.querySelector(\".header__menu\");\nconst closeButton = menuBlock.querySelector(\".close__button\");\nconst phoneMenuBg = header.querySelector(\".header__menu-background\");\n\nfunction checkPageScroll() {\n\tif (window.scrollY > 0) {\n\t\tshippingNotice.style.maxHeight = \"0\";\n\t\theader.classList.add(\"scrolled\");\n\t} else {\n\t\tshippingNotice.style.maxHeight = shippingNotice.scrollHeight + \"px\";\n\t\theader.classList.remove(\"scrolled\");\n\t}\n}\n\n// Закриває всі відкриті меню\nfunction closeAllMenus() {\n\theaderMenuButtons.forEach((button) => {\n\t\tconst menuClass = button.dataset.menu;\n\t\tconst menu = document.querySelector(\".\" + menuClass);\n\t\tbutton.classList.remove(\"active\");\n\t\tmenu.classList.remove(\"active\");\n\t\t/*------для десктопного меню------*/\n\t\tif (window.matchMedia(\"(min-width: 769px)\").matches) {\n\t\t\tmenu.style.maxHeight = \"0\";\n\t\t\tphoneMenuBg.classList.remove(\"active\");\n\t\t}\n\t});\n\theader.classList.remove(\"opened\");\n}\n\n// Вмикає/вимикає потрібне меню\nfunction toggleMenu(button, menu) {\n\tconst isActive = menu.classList.contains(\"active\");\n\n\tcloseAllMenus(); // Закриваємо всі інші меню\n\n\tif (!isActive) {\n\t\tbutton.classList.add(\"active\");\n\t\tmenu.classList.add(\"active\");\n\t\t/*------для десктопного меню------*/\n\t\tif (window.matchMedia(\"(min-width: 769px)\").matches) {\n\t\t\tmenu.style.maxHeight = menu.scrollHeight + \"px\";\n\t\t\theader.classList.add(\"opened\");\n\t\t}\n\t}\n}\n\ndocument.addEventListener(\"DOMContentLoaded\", function () {\n\t// Ініціалізація scroll\n\tcheckPageScroll();\n\n\t// Клік по меню\n\theaderMenuButtons.forEach((button) => {\n\t\tconst menuClass = button.dataset.menu;\n\t\tconst menu = document.querySelector(\".\" + menuClass);\n\n\t\tbutton.addEventListener(\"click\", (e) => {\n\t\t\te.stopPropagation(); // Щоб не спрацьовував обробник document\n\t\t\ttoggleMenu(button, menu);\n\t\t});\n\t});\n\n\t// Клік поза меню — закриває все\n\tdocument.addEventListener(\"click\", (event) => {\n\t\tlet clickInside = false;\n\n\t\theaderMenuButtons.forEach((button) => {\n\t\t\tconst menuClass = button.dataset.menu;\n\t\t\tconst menu = document.querySelector(\".\" + menuClass);\n\n\t\t\tif (button.contains(event.target) || menu.contains(event.target)) {\n\t\t\t\tclickInside = true;\n\t\t\t}\n\t\t});\n\n\t\tif (window.matchMedia(\"(max-width: 768px)\").matches) {\n\t\t\tif (\n\t\t\t\tmenuBlock.contains(event.target) ||\n\t\t\t\tburgerButton.contains(event.target)\n\t\t\t) {\n\t\t\t\tclickInside = true;\n\t\t\t}\n\t\t}\n\n\t\tif (!clickInside) {\n\t\t\tsetTimeout(() => {\n\t\t\t\tif (window.matchMedia(\"(max-width: 768px)\").matches) {\n\t\t\t\t\tmenuBlock.classList.remove(\"opened\");\n\t\t\t\t}\n\t\t\t}, 300);\n\t\t\tcloseAllMenus();\n\t\t}\n\t});\n\n\t// Скрол — оновлення shipping + закриття меню\n\twindow.addEventListener(\"scroll\", () => {\n\t\tcheckPageScroll();\n\t\tcloseAllMenus();\n\t});\n\n\t/*------mobile menu------*/\n\tif (window.matchMedia(\"(max-width: 768px)\").matches) {\n\t\t/*-----open menu----------*/\n\t\tburgerButton.addEventListener(\"click\", () => {\n\t\t\tmenuBlock.classList.add(\"opened\");\n\t\t\tphoneMenuBg.classList.add(\"active\");\n\t\t});\n\n\t\t/*-----close menu----------*/\n\t\tcloseButton.addEventListener(\"click\", () => {\n\t\t\tmenuBlock.classList.remove(\"opened\");\n\t\t\tphoneMenuBg.classList.remove(\"active\");\n\t\t});\n\n\t\t/*-----back to main menu-----*/\n\t\theaderMenuButtons.forEach((button) => {\n\t\t\tconst menuClass = button.dataset.menu;\n\t\t\tconst menu = document.querySelector(\".\" + menuClass);\n\t\t\tconst menuBackButton = menu.querySelector(\".back__button\");\n\t\t\tconst menuList = menu.querySelector(\".categories__list\");\n\t\t\tmenuList.style.minHeight = menuList.scrollHeight + 40 + \"px\";\n\n\t\t\tmenuBackButton.addEventListener(\"click\", () => {\n\t\t\t\tconst reloadedMenu = document.querySelector(\".\" + menuClass);\n\t\t\t\ttoggleMenu(button, reloadedMenu);\n\t\t\t});\n\t\t});\n\t}\n});\n"],"mappings":"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","ignoreList":[]}